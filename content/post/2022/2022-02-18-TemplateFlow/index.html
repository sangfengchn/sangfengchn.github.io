---
title: 下载templateflow
author: 桑峰
date: 2022-02-18
slug: blog
output: html_document
categories:
  - NeuroImage
tags:
  - templateflow
  - fmriprep
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p>templateflow中包含了一些典型的神经影像脑模版，可在fmriprep等工具中使用。本文主要介绍如何下载templateflow。</p>
<div id="准备" class="section level1">
<h1>准备</h1>
<p>GitHub上有它的仓库，但是那只是DataLab的索引，因此直接下载是不能下载到模版文件的。需要通过DataLab下载。</p>
<p>首先，安装DataLab（以Ubuntu 21.10为例）。</p>
<pre class="bash"><code>conda install -c conda-forge datalad
# OR
sudo apt-get install datalab</code></pre>
</div>
<div id="下载" class="section level1">
<h1>下载</h1>
<p>下载索引文件，并使用DataLab下载模版。</p>
<pre class="bash"><code>git clone https://github.com/templateflow/templateflow.git
cd templateflow
# tpl-* 下载所有模版
datalad get -r tpl-fsLR</code></pre>
</div>
<div id="通过python下载" class="section level1">
<h1>通过python下载</h1>
<p>笔者在使用datalad下载过程中，会经常遇到进度条长时间不动的情况。而且印象当中，笔者以前用python下载成功过，速度也不是很慢。因此这里将python下载templateflow的方法也追加进来。</p>
<p>首先设置环境变量。</p>
<pre class="bash"><code>export TEMPLATEFLOW_HOME=$HOME/.templateflow</code></pre>
<p>使用pip安装templateflow包。</p>
<pre class="bash"><code>python -m pip install -U templateflow</code></pre>
<p>下载templateflow。</p>
<pre class="bash"><code>python -c &quot;from templateflow.api import get; get([&#39;MNI152NLin2009cAsym&#39;, &#39;MNI152NLin6Asym&#39;, &#39;OASIS30ANTs&#39;, &#39;MNIPediatricAsym&#39;, &#39;MNIInfant&#39;])&quot;</code></pre>
<p>这里可以根据需要下载相应的模版文件。</p>
</div>
<div id="相关链接" class="section level1">
<h1>相关链接</h1>
<p>templateflow项目地址：<a href="https://github.com/templateflow/" class="uri">https://github.com/templateflow/</a></p>
<p>DataLad网址：<a href="https://www.datalad.org/" class="uri">https://www.datalad.org/</a></p>
<p>python下载参考网址：<a href="https://fmriprep.org/en/1.5.9/spaces.html" class="uri">https://fmriprep.org/en/1.5.9/spaces.html</a></p>
</div>
